//: C03:StringStorage.h
#ifndef STRINGSTORAGE_H
#define STRINGSTORAGE_H
#include <iostream>
#include <string>
#include "../TestSuite/Test.h"
using std::cout;
using std::endl;
using std::string;

class StringStorageTest : public TestSuite::Test {
public:
  void run() {
    string s1("12345");
    // Первая строка может быть скопирвоана во вторую
    // или копирование может имитироваться подсчетом ссылок
    string s2 = s1;
    test_(s1 == s2);
    // В любом случае эта команда должна изменять ТОЛЬКО s1
    s1[0] = '6';
    cout << "s1 = " << s1 << endl;
    cout << "s2 = " << s2 << endl;
    test_(s1 != s2);
  }
};
#endif // STRINGSTORAGE_H ///:~ 

//: C03:StringStorage.cpp
//{L} ../TestSuite/Test
#include "StringStorage.h"

int main() {
  StringStorageTest t;
  t.run();
  return t.report();
} ///:~
